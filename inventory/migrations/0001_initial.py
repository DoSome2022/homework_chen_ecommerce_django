# Generated by Django 5.2.9 on 2025-12-23 13:06

import django.core.validators
import django.db.models.deletion
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('accounts', '0001_initial'),
        ('products', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='WarehouseTask',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('task_number', models.CharField(max_length=50, unique=True, verbose_name='任務編號')),
                ('task_type', models.CharField(choices=[('receiving', '收貨'), ('putaway', '上架'), ('picking', '揀貨'), ('packing', '包裝'), ('shipping', '發貨'), ('inventory_check', '盤點'), ('stock_transfer', '調撥'), ('replenishment', '補貨'), ('maintenance', '維護'), ('cleaning', '清潔')], max_length=30, verbose_name='任務類型')),
                ('priority', models.CharField(choices=[('low', '低'), ('medium', '中'), ('high', '高'), ('urgent', '緊急')], default='medium', max_length=20, verbose_name='優先級')),
                ('status', models.CharField(choices=[('pending', '待處理'), ('assigned', '已分配'), ('in_progress', '進行中'), ('completed', '已完成'), ('cancelled', '已取消'), ('on_hold', '暫停')], default='pending', max_length=20, verbose_name='任務狀態')),
                ('description', models.TextField(verbose_name='任務描述')),
                ('instructions', models.TextField(blank=True, verbose_name='操作說明')),
                ('estimated_duration', models.IntegerField(blank=True, null=True, verbose_name='預計時長(分鐘)')),
                ('scheduled_start', models.DateTimeField(blank=True, null=True, verbose_name='計劃開始時間')),
                ('scheduled_end', models.DateTimeField(blank=True, null=True, verbose_name='計劃結束時間')),
                ('actual_start', models.DateTimeField(blank=True, null=True, verbose_name='實際開始時間')),
                ('actual_end', models.DateTimeField(blank=True, null=True, verbose_name='實際結束時間')),
                ('total_items', models.IntegerField(default=0, verbose_name='總物品數')),
                ('items_completed', models.IntegerField(default=0, verbose_name='已完成物品數')),
                ('total_weight', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='總重量(kg)')),
                ('notes', models.TextField(blank=True, verbose_name='備註')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
                ('assigned_to', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_tasks', to='accounts.staff')),
                ('completed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='completed_tasks', to='accounts.staff')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_tasks', to='accounts.staff')),
            ],
            options={
                'verbose_name': '倉庫任務',
                'verbose_name_plural': '倉庫任務',
                'ordering': ['-priority', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ReservationAllocation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('quantity', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='分配数量')),
                ('allocated_at', models.DateTimeField(auto_now_add=True, verbose_name='分配时间')),
            ],
            options={
                'verbose_name': '预留分配',
                'verbose_name_plural': '预留分配',
            },
        ),
        migrations.CreateModel(
            name='StockAdjustment',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('adjustment_number', models.CharField(max_length=50, unique=True, verbose_name='调整单号')),
                ('adjustment_type', models.CharField(choices=[('inventory_count', '库存盘点'), ('damaged', '损坏调整'), ('expired', '过期调整'), ('theft', '丢失调整'), ('transfer_error', '调拨误差'), ('other', '其他')], max_length=50, verbose_name='调整类型')),
                ('total_items', models.IntegerField(default=0, verbose_name='总项目数')),
                ('total_value_change', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='总价值变化')),
                ('status', models.CharField(choices=[('pending', '待审核'), ('approved', '已批准'), ('rejected', '已拒绝'), ('completed', '已完成')], default='pending', max_length=20, verbose_name='状态')),
                ('reason', models.TextField(verbose_name='调整原因')),
                ('notes', models.TextField(blank=True, verbose_name='备注')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '库存调整',
                'verbose_name_plural': '库存调整',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StockReservation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('reservation_number', models.CharField(max_length=50, unique=True, verbose_name='预留单号')),
                ('quantity', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='预留数量')),
                ('backorder_quantity', models.IntegerField(default=0, verbose_name='缺货数量')),
                ('status', models.CharField(choices=[('reserved', '已预留'), ('partially_reserved', '部分预留'), ('allocated', '已分配'), ('released', '已释放'), ('cancelled', '已取消')], default='reserved', max_length=20, verbose_name='状态')),
                ('expires_at', models.DateTimeField(blank=True, null=True, verbose_name='过期时间')),
                ('reserved_at', models.DateTimeField(auto_now_add=True, verbose_name='预留时间')),
                ('allocated_at', models.DateTimeField(blank=True, null=True, verbose_name='分配时间')),
                ('released_at', models.DateTimeField(blank=True, null=True, verbose_name='释放时间')),
                ('notes', models.TextField(blank=True, verbose_name='备注')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '库存预留',
                'verbose_name_plural': '库存预留',
                'ordering': ['-reserved_at'],
            },
        ),
        migrations.CreateModel(
            name='StockTransfer',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('transfer_number', models.CharField(max_length=50, unique=True, verbose_name='调拨单号')),
                ('status', models.CharField(choices=[('pending', '待处理'), ('approved', '已批准'), ('in_transit', '运输中'), ('received', '已接收'), ('completed', '已完成'), ('cancelled', '已取消')], default='pending', max_length=20, verbose_name='状态')),
                ('priority', models.CharField(choices=[('low', '低'), ('medium', '中'), ('high', '高'), ('urgent', '紧急')], default='medium', max_length=20, verbose_name='优先级')),
                ('shipping_method', models.CharField(blank=True, max_length=100, verbose_name='运输方式')),
                ('tracking_number', models.CharField(blank=True, max_length=100, verbose_name='跟踪号码')),
                ('estimated_delivery', models.DateField(blank=True, null=True, verbose_name='预计送达')),
                ('actual_delivery', models.DateField(blank=True, null=True, verbose_name='实际送达')),
                ('notes', models.TextField(blank=True, verbose_name='备注')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '库存调拨',
                'verbose_name_plural': '库存调拨',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StorageLocation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='位置代码')),
                ('name', models.CharField(max_length=100, verbose_name='位置名称')),
                ('location_type', models.CharField(choices=[('shelf', '货架'), ('bin', '货位'), ('pallet', '托盘'), ('floor', '地面'), ('rack', '货架位'), ('bulk', '散货区')], max_length=20, verbose_name='位置类型')),
                ('aisle', models.CharField(blank=True, max_length=20, verbose_name='通道')),
                ('section', models.CharField(blank=True, max_length=20, verbose_name='区域')),
                ('shelf', models.CharField(blank=True, max_length=20, verbose_name='货架')),
                ('level', models.CharField(blank=True, max_length=20, verbose_name='层数')),
                ('position', models.CharField(blank=True, max_length=20, verbose_name='位置')),
                ('max_volume', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='最大容量(m³)')),
                ('max_weight', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='最大重量(kg)')),
                ('current_volume', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='当前容量(m³)')),
                ('current_weight', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='当前重量(kg)')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('is_full', models.BooleanField(default=False, verbose_name='是否已满')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '存储位置',
                'verbose_name_plural': '存储位置',
                'ordering': ['warehouse', 'code'],
            },
        ),
        migrations.CreateModel(
            name='TaskItem',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('quantity', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='數量')),
                ('quantity_completed', models.IntegerField(default=0, verbose_name='已完成數量')),
                ('status', models.CharField(choices=[('pending', '待處理'), ('in_progress', '進行中'), ('completed', '已完成'), ('cancelled', '已取消')], default='pending', max_length=20, verbose_name='狀態')),
                ('scanned_barcode', models.CharField(blank=True, max_length=100, verbose_name='掃描條碼')),
                ('scan_time', models.DateTimeField(blank=True, null=True, verbose_name='掃描時間')),
                ('has_error', models.BooleanField(default=False, verbose_name='有錯誤')),
                ('error_type', models.CharField(blank=True, max_length=50, verbose_name='錯誤類型')),
                ('error_description', models.TextField(blank=True, verbose_name='錯誤描述')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
            ],
            options={
                'verbose_name': '任務項目',
                'verbose_name_plural': '任務項目',
                'ordering': ['task', 'product'],
            },
        ),
        migrations.CreateModel(
            name='TransferItem',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('quantity', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='数量')),
                ('unit_cost', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='单位成本')),
                ('total_cost', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(0)], verbose_name='总成本')),
                ('batch_number', models.CharField(blank=True, max_length=100, verbose_name='批次号')),
                ('status', models.CharField(choices=[('pending', '待处理'), ('picked', '已拣货'), ('shipped', '已发货'), ('received', '已接收')], default='pending', max_length=20, verbose_name='状态')),
                ('notes', models.TextField(blank=True, verbose_name='备注')),
            ],
            options={
                'verbose_name': '调拨项目',
                'verbose_name_plural': '调拨项目',
                'ordering': ['transfer', 'product'],
            },
        ),
        migrations.CreateModel(
            name='Warehouse',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=20, unique=True, verbose_name='仓库代码')),
                ('name', models.CharField(max_length=100, verbose_name='仓库名称')),
                ('location', models.CharField(max_length=200, verbose_name='地理位置')),
                ('contact_person', models.CharField(max_length=100, verbose_name='联系人')),
                ('phone', models.CharField(max_length=20, verbose_name='联系电话')),
                ('email', models.EmailField(max_length=254, verbose_name='邮箱')),
                ('address', models.TextField(verbose_name='详细地址')),
                ('total_capacity', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='总容量(m³)')),
                ('used_capacity', models.DecimalField(decimal_places=2, default=0, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='已用容量(m³)')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('warehouse_type', models.CharField(choices=[('main', '主仓'), ('regional', '区域仓'), ('store', '门店仓'), ('fulfillment', '履约中心'), ('cold_storage', '冷链仓库')], max_length=50, verbose_name='仓库类型')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '仓库',
                'verbose_name_plural': '仓库',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='WarehouseAisle',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('aisle_number', models.CharField(max_length=20, verbose_name='通道編號')),
                ('name', models.CharField(blank=True, max_length=100, verbose_name='通道名稱')),
                ('length', models.DecimalField(decimal_places=2, max_digits=8, validators=[django.core.validators.MinValueValidator(0)], verbose_name='長度(m)')),
                ('width', models.DecimalField(decimal_places=2, max_digits=8, validators=[django.core.validators.MinValueValidator(0)], verbose_name='寬度(m)')),
                ('height', models.DecimalField(decimal_places=2, max_digits=8, validators=[django.core.validators.MinValueValidator(0)], verbose_name='高度(m)')),
                ('has_pallets', models.BooleanField(default=True, verbose_name='有托盤')),
                ('pallet_configuration', models.JSONField(default=dict, verbose_name='托盤配置')),
                ('max_weight_capacity', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='最大承重(kg)')),
                ('equipment', models.JSONField(default=list, verbose_name='設備配置')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否啟用')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
            ],
            options={
                'verbose_name': '倉庫通道',
                'verbose_name_plural': '倉庫通道',
                'ordering': ['warehouse', 'aisle_number'],
            },
        ),
        migrations.CreateModel(
            name='WarehouseEquipment',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('equipment_number', models.CharField(max_length=50, unique=True, verbose_name='設備編號')),
                ('name', models.CharField(max_length=100, verbose_name='設備名稱')),
                ('equipment_type', models.CharField(choices=[('forklift', '叉車'), ('pallet_jack', '托盤車'), ('hand_truck', '手推車'), ('conveyor', '輸送帶'), ('scanner', '掃描槍'), ('printer', '打印機'), ('safety_equipment', '安全設備'), ('other', '其他')], max_length=30, verbose_name='設備類型')),
                ('brand', models.CharField(blank=True, max_length=100, verbose_name='品牌')),
                ('model', models.CharField(blank=True, max_length=100, verbose_name='型號')),
                ('serial_number', models.CharField(blank=True, max_length=100, verbose_name='序列號')),
                ('capacity', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='容量/負載(kg)')),
                ('specifications', models.JSONField(default=dict, verbose_name='技術規格')),
                ('status', models.CharField(choices=[('available', '可用'), ('in_use', '使用中'), ('maintenance', '維修中'), ('out_of_service', '停用')], default='available', max_length=20, verbose_name='設備狀態')),
                ('last_maintenance', models.DateField(blank=True, null=True, verbose_name='最後維護日期')),
                ('next_maintenance', models.DateField(blank=True, null=True, verbose_name='下次維護日期')),
                ('maintenance_interval_days', models.IntegerField(default=90, verbose_name='維護間隔(天)')),
                ('total_usage_hours', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='總使用小時')),
                ('requires_certification', models.BooleanField(default=False, verbose_name='需要證書')),
                ('certification_expiry', models.DateField(blank=True, null=True, verbose_name='證書有效期')),
                ('notes', models.TextField(blank=True, verbose_name='備註')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
            ],
            options={
                'verbose_name': '倉庫設備',
                'verbose_name_plural': '倉庫設備',
                'ordering': ['warehouse', 'equipment_type', 'equipment_number'],
            },
        ),
        migrations.CreateModel(
            name='WarehousePerformanceMetrics',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('metric_date', models.DateField(verbose_name='指標日期')),
                ('period_type', models.CharField(choices=[('daily', '日'), ('weekly', '周'), ('monthly', '月'), ('quarterly', '季'), ('yearly', '年')], max_length=20, verbose_name='期間類型')),
                ('order_fulfillment_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='訂單履行率(%)')),
                ('picking_accuracy', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='揀貨準確率(%)')),
                ('inventory_accuracy', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='庫存準確率(%)')),
                ('orders_processed', models.IntegerField(default=0, verbose_name='處理訂單數')),
                ('items_picked', models.IntegerField(default=0, verbose_name='揀貨物品數')),
                ('items_packed', models.IntegerField(default=0, verbose_name='包裝物品數')),
                ('shipments_processed', models.IntegerField(default=0, verbose_name='處理發貨單數')),
                ('average_picking_time', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='平均揀貨時間(分鐘)')),
                ('average_packing_time', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='平均包裝時間(分鐘)')),
                ('order_cycle_time', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='訂單周期時間(小時)')),
                ('labor_cost', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='人力成本')),
                ('equipment_cost', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='設備成本')),
                ('cost_per_order', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='每訂單成本')),
                ('cost_per_item', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='每物品成本')),
                ('shipping_errors', models.IntegerField(default=0, verbose_name='發貨錯誤數')),
                ('returns_due_to_errors', models.IntegerField(default=0, verbose_name='因錯誤退貨數')),
                ('damaged_items', models.IntegerField(default=0, verbose_name='損壞物品數')),
                ('space_utilization', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='空間利用率(%)')),
                ('equipment_utilization', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='設備利用率(%)')),
                ('labor_utilization', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='人力利用率(%)')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
            ],
            options={
                'verbose_name': '倉庫績效指標',
                'verbose_name_plural': '倉庫績效指標',
                'ordering': ['-metric_date'],
            },
        ),
        migrations.CreateModel(
            name='WarehouseSafetyCheck',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('check_type', models.CharField(choices=[('daily', '每日檢查'), ('weekly', '每周檢查'), ('monthly', '每月檢查'), ('equipment', '設備檢查'), ('fire_safety', '消防安全'), ('emergency', '應急檢查')], max_length=20, verbose_name='檢查類型')),
                ('checklist', models.JSONField(default=list, verbose_name='檢查清單')),
                ('status', models.CharField(choices=[('pending', '待檢查'), ('in_progress', '檢查中'), ('completed', '已完成'), ('failed', '不合格'), ('corrected', '已糾正')], default='pending', max_length=20, verbose_name='檢查狀態')),
                ('passed_items', models.IntegerField(default=0, verbose_name='通過項目數')),
                ('failed_items', models.IntegerField(default=0, verbose_name='未通過項目數')),
                ('total_items', models.IntegerField(default=0, verbose_name='總項目數')),
                ('issues_found', models.JSONField(default=list, verbose_name='發現問題')),
                ('corrective_actions', models.JSONField(default=list, verbose_name='糾正措施')),
                ('scheduled_date', models.DateField(verbose_name='計劃檢查日期')),
                ('conducted_date', models.DateField(blank=True, null=True, verbose_name='實際檢查日期')),
                ('next_check_date', models.DateField(blank=True, null=True, verbose_name='下次檢查日期')),
                ('notes', models.TextField(blank=True, verbose_name='備註')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
            ],
            options={
                'verbose_name': '倉庫安全檢查',
                'verbose_name_plural': '倉庫安全檢查',
                'ordering': ['-scheduled_date'],
            },
        ),
        migrations.CreateModel(
            name='WarehouseShelf',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('shelf_number', models.CharField(max_length=20, verbose_name='貨架編號')),
                ('name', models.CharField(blank=True, max_length=100, verbose_name='貨架名稱')),
                ('shelf_type', models.CharField(choices=[('pallet_rack', '托盤貨架'), ('shelving_unit', '貨架單元'), ('cantilever', '懸臂架'), ('mezzanine', '閣樓貨架'), ('drive_in', '駛入式貨架'), ('push_back', '後推式貨架')], default='shelving_unit', max_length=20, verbose_name='貨架類型')),
                ('position_x', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='X位置')),
                ('position_y', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Y位置')),
                ('levels', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(1)], verbose_name='層數')),
                ('bays', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(1)], verbose_name='格數')),
                ('depth', models.DecimalField(decimal_places=2, max_digits=8, validators=[django.core.validators.MinValueValidator(0)], verbose_name='深度(cm)')),
                ('max_weight_per_level', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='每層最大承重(kg)')),
                ('max_items_per_bay', models.IntegerField(default=1, verbose_name='每格最大物品數')),
                ('current_weight', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='當前重量(kg)')),
                ('current_items', models.IntegerField(default=0, verbose_name='當前物品數')),
                ('last_inspected', models.DateField(blank=True, null=True, verbose_name='最後檢查日期')),
                ('inspection_due', models.DateField(blank=True, null=True, verbose_name='下次檢查日期')),
                ('requires_maintenance', models.BooleanField(default=False, verbose_name='需要維護')),
                ('maintenance_notes', models.TextField(blank=True, verbose_name='維護備註')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否啟用')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
            ],
            options={
                'verbose_name': '倉庫貨架',
                'verbose_name_plural': '倉庫貨架',
                'ordering': ['aisle', 'shelf_number'],
            },
        ),
        migrations.CreateModel(
            name='WarehouseStaffSchedule',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('shift_type', models.CharField(choices=[('morning', '早班'), ('afternoon', '中班'), ('night', '晚班'), ('overtime', '加班')], max_length=20, verbose_name='班次類型')),
                ('work_date', models.DateField(verbose_name='工作日期')),
                ('start_time', models.TimeField(verbose_name='開始時間')),
                ('end_time', models.TimeField(verbose_name='結束時間')),
                ('is_working', models.BooleanField(default=False, verbose_name='是否在崗')),
                ('clock_in_time', models.DateTimeField(blank=True, null=True, verbose_name='打卡上班時間')),
                ('clock_out_time', models.DateTimeField(blank=True, null=True, verbose_name='打卡下班時間')),
                ('actual_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='實際工時')),
                ('tasks_completed', models.IntegerField(default=0, verbose_name='完成任務數')),
                ('items_handled', models.IntegerField(default=0, verbose_name='處理物品數')),
                ('productivity_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='生產力評分')),
                ('notes', models.TextField(blank=True, verbose_name='備註')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
            ],
            options={
                'verbose_name': '倉庫員工排班',
                'verbose_name_plural': '倉庫員工排班',
                'ordering': ['work_date', 'start_time'],
            },
        ),
        migrations.CreateModel(
            name='WarehouseTransaction',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('transaction_number', models.CharField(max_length=50, unique=True, verbose_name='交易编号')),
                ('transaction_type', models.CharField(choices=[('receiving', '收货'), ('putaway', '上架'), ('picking', '拣货'), ('packing', '包装'), ('shipping', '发货'), ('adjustment', '调整'), ('transfer', '调拨'), ('return', '退货')], max_length=20, verbose_name='交易类型')),
                ('quantity', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='数量')),
                ('transaction_date', models.DateTimeField(auto_now_add=True, verbose_name='交易时间')),
                ('reference_number', models.CharField(blank=True, max_length=100, verbose_name='参考编号')),
                ('notes', models.TextField(blank=True, verbose_name='备注')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '仓库交易记录',
                'verbose_name_plural': '仓库交易记录',
                'ordering': ['-transaction_date'],
            },
        ),
        migrations.CreateModel(
            name='WarehouseZone',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=100, verbose_name='區域名稱')),
                ('code', models.CharField(max_length=20, unique=True, verbose_name='區域代碼')),
                ('zone_type', models.CharField(choices=[('receiving', '收貨區'), ('storage', '存儲區'), ('picking', '揀貨區'), ('packing', '包裝區'), ('shipping', '發貨區'), ('quarantine', '隔離區'), ('returns', '退貨處理區')], max_length=20, verbose_name='區域類型')),
                ('location_x', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='X坐標')),
                ('location_y', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Y坐標')),
                ('location_z', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Z坐標')),
                ('total_capacity', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='總容量(m³)')),
                ('used_capacity', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='已用容量(m³)')),
                ('temperature_controlled', models.BooleanField(default=False, verbose_name='溫控區域')),
                ('min_temperature', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='最低溫度(℃)')),
                ('max_temperature', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='最高溫度(℃)')),
                ('requires_access_code', models.BooleanField(default=False, verbose_name='需要訪問碼')),
                ('access_level_required', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)], verbose_name='所需訪問級別')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否啟用')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
            ],
            options={
                'verbose_name': '倉庫區域',
                'verbose_name_plural': '倉庫區域',
                'ordering': ['warehouse', 'zone_type', 'code'],
            },
        ),
        migrations.CreateModel(
            name='Inventory',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('quantity', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='数量')),
                ('reserved_quantity', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='预留数量')),
                ('available_quantity', models.IntegerField(default=0, verbose_name='可用数量')),
                ('batch_number', models.CharField(blank=True, max_length=100, verbose_name='批次号')),
                ('manufacturing_date', models.DateField(blank=True, null=True, verbose_name='生产日期')),
                ('expiry_date', models.DateField(blank=True, null=True, verbose_name='过期日期')),
                ('unit_cost', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='单位成本')),
                ('total_value', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(0)], verbose_name='总价值')),
                ('status', models.CharField(choices=[('active', '正常'), ('quarantine', '隔离'), ('damaged', '损坏'), ('expired', '过期'), ('reserved', '预留'), ('in_transit', '在途')], default='active', max_length=20, verbose_name='状态')),
                ('last_updated', models.DateTimeField(auto_now=True, verbose_name='最后更新')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inventory_records', to='products.product')),
            ],
            options={
                'verbose_name': '库存记录',
                'verbose_name_plural': '库存记录',
                'ordering': ['warehouse', 'product'],
            },
        ),
        migrations.CreateModel(
            name='AdjustmentItem',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('quantity_before', models.IntegerField(verbose_name='调整前数量')),
                ('quantity_change', models.IntegerField(verbose_name='数量变化')),
                ('quantity_after', models.IntegerField(verbose_name='调整后数量')),
                ('unit_cost', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='单位成本')),
                ('value_change', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='价值变化')),
                ('adjustment_reason', models.CharField(choices=[('damaged', '损坏'), ('expired', '过期'), ('counting_error', '盘点误差'), ('theft', '盗窃'), ('other', '其他')], max_length=50, verbose_name='调整原因')),
                ('notes', models.TextField(blank=True, verbose_name='备注')),
                ('inventory', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='inventory.inventory')),
            ],
            options={
                'verbose_name': '调整项目',
                'verbose_name_plural': '调整项目',
                'ordering': ['adjustment', 'inventory'],
            },
        ),
        migrations.CreateModel(
            name='PickingTask',
            fields=[
                ('warehousetask_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='inventory.warehousetask')),
                ('picking_method', models.CharField(choices=[('single_order', '單訂單揀貨'), ('batch_picking', '批次揀貨'), ('zone_picking', '分區揀貨'), ('wave_picking', '波次揀貨')], default='single_order', max_length=20, verbose_name='揀貨方法')),
                ('pick_list', models.JSONField(default=list, verbose_name='揀貨清單')),
            ],
            options={
                'verbose_name': '揀貨任務',
                'verbose_name_plural': '揀貨任務',
            },
            bases=('inventory.warehousetask',),
        ),
        migrations.CreateModel(
            name='PutawayTask',
            fields=[
                ('warehousetask_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='inventory.warehousetask')),
            ],
            options={
                'verbose_name': '上架任務',
                'verbose_name_plural': '上架任務',
            },
            bases=('inventory.warehousetask',),
        ),
    ]
